function CDBStandardTableView(){StandardTableView.call(this);this.name="CDBStandardTableView"}Temp.prototype=StandardTableView.prototype;CDBStandardTableView.prototype=new Temp;cdbStandardTableView=new CDBStandardTableView;
(function(d){CDBStandardTableView.prototype.checkFilterTag=function(a,f){function b(g,e){if(e==null)return false;return d.inArray(g,e)>-1}if(a.indexOf("TAG:")==0){a=a.substr(4,99);var c=false;d.each(a.split(","),function(g,e){if(e>0){if(b(e,f))c=true}else{var h=-1;d.each(masterData.tags,function(i,j){if(j.bezeichnung.toUpperCase()==e)h=j.id});if(h>=0&&b(h,f))c=true}});if(!c)return false}return true};CDBStandardTableView.prototype.addTagCallbacks=function(a,f){if(masterData.tags!=null){var b=[];d.each(churchcore_sortData(masterData.tags,
"bezeichnung"),function(c,g){b.push(g.bezeichnung)});d("#input_tag"+a).addClass("form-autocomplete");d("#input_tag"+a).autocomplete({source:b})}d("#input_tag"+a).keyup(function(c){var g=d(this).val();if(c.which==27)d("#add_tag_field"+a).toggle();else if(c.which==13){d("#add_tag_field"+a).toggle();var e=null;masterData.tags!=null&&d.each(masterData.tags,function(h,i){if(i.bezeichnung.toUpperCase()==g.toUpperCase())e=i.id});e==null&&churchInterface.jsonWriteSyncron({func:"addNewTag",bezeichnung:g},
function(h){var i={};i.id=h;i.bezeichnung=g;if(masterData.tags==null)masterData.tags={};masterData.tags[h]=i;e=h});f(e)}})};CDBStandardTableView.prototype.renderTag=function(a,f){if(f==null)f=false;var b='<span class="tag"><a href="#" title="'+a+'" id="search_tag'+a+'">';if(masterData.tags[a]!=null)b+=masterData.tags[a].bezeichnung;else b=b+"null["+a+"]";b+="</a>";if(f)b=b+'&nbsp;<a href="#" id="del_tag'+a+'"><img width=16px src="'+masterData.modulespath+'/images/trashbox.png" align="absmiddle"/></a>';
b+="</span>";return b};CDBStandardTableView.prototype.renderTags=function(a,f,b){var c=[],g=this;if(masterData.auth.viewtags){c.push('<div class="ui-widget" style="text-align:right;position:relative;"><p>');a!=null&&d.each(a,function(e,h){c.push(g.renderTag(h,f)+"&nbsp; ")});if(f){c.push('&nbsp;<a href="" title="Tag hinzuf&uuml;gen" id="add_tag"><img id="add_tag_icon" width=16px src="'+masterData.modulespath+'/images/plus.png" align="absmiddle"/></a>');c.push('<span id="add_tag_field'+b+'" style="display:none"><input type="text" id="input_tag'+
b+'"></input></span>')}c.push("</div>")}return c.join("")}})(jQuery);
