(function(c){function b(){PersonView.call(this);this.name="MapView"}Temp.prototype=PersonView.prototype;b.prototype=new Temp;mapView=new b;b.prototype.getData=function(){return allPersons};b.prototype.renderList=function(){this_object=this;c("#cdb_content").html('<div id="map_canvas" style="width: 100%; height: 480px"></div>');if(geocoder){var e=new google.maps.MarkerImage("http://www.google.com/intl/en_us/mapfiles/ms/micons/blue-dot.png",new google.maps.Size(32,32),new google.maps.Point(0,0),new google.maps.Point(8,
16),new google.maps.Size(16,16)),f=new google.maps.LatLng(masterData.home_lat,masterData.home_lng);map=cdb_prepareMap("map_canvas",f);max=500;c.each(allPersons,function(d,a){if(max>0&&this_object.checkFilter(a)){if(a.geolat!=""){max-=1;d=new google.maps.LatLng(a.geolat,a.geolng);new google.maps.Marker({position:d,map:map,icon:e,title:a.vorname+" "+a.name+" ["+a.id+"]"})}if(max==0&&confirm("Es werden bereits 500 Personen dargestellt. Sollen wirklich noch mehr angezeigt werden? Es kann dann bei langsameren Computern zu Wartezeiten kommen."))max=
1E4}});masterData.auth.viewalldata||_cdb_limitZoom(map);cdb_addGroupsToMap(map)}}})(jQuery);
