(function(b){function c(){StandardTableView.call(this);this.name="SettingsView"}Temp.prototype=StandardTableView.prototype;c.prototype=new Temp;settingsView=new c;c.prototype.renderMenu=function(){this_object=this;menu=new CC_Menu("Men&uuml;");menu.addEntry("Zur&uuml;ck zum Dienstplan","apersonview","arrow-left");b("#cdb_precontent").html("");menu.renderDiv("cdb_menu")?b("#cdb_menu a").click(function(){if(b(this).attr("id")=="apersonview"){menuDepth="amain";churchInterface.setCurrentView(listView,
false)}return false}):b("#cdb_menu").hide()};c.prototype.renderFilter=function(){var a=[];a.push('<div id="cdb_filtercover"></div>');b("#cdb_filter").html(a.join(""));b.each(this.filter,function(e,d){b("#"+e).val(d)});this.implantStandardFilterCallbacks(this,"cdb_filter")};c.prototype.renderListMenu=function(){var a=new CC_Navi;a.addEntry(true,"id1","Einstellungen");a.renderDiv("cdb_search")};c.prototype.checkFilter=function(){return true};c.prototype.renderList=function(){this_object=this;var a=
[];a.push("<h2>E-Mail Erinnerungen</h2>");a.push("<table>");a.push('<tr><td width="50%">Erinnere mich an meine zugesagten Dienste per E-Mail');a.push('<td><select id="remindMe">');a.push('<option value="0" '+(masterData.settings.remindMe==0?"selected":"")+">Nein");a.push('<option value="1" '+(masterData.settings.remindMe==1?"selected":"")+">Ja");a.push("</select>");if(masterData.settings.informInquirer!=null){a.push('<tr><td width="50%">Informiere mich wenn bei meinen Anfragen einer zu- oder absagt.');
a.push('<td><select id="informInquirer">');a.push('<option value="0" '+(masterData.settings.informInquirer==0?"selected":"")+">Nein");a.push('<option value="1" '+(masterData.settings.informInquirer==1?"selected":"")+">Ja");a.push("</select>")}if(masterData.settings.informLeader!=null){a.push('<tr><td width="50%">Informiere mich w&ouml;chentlich &uuml;ber offene Dienste in meinen Gruppen');a.push('<td><select id="informLeader">');a.push('<option value="0" '+(masterData.settings.informLeader==0?"selected":
"")+">Nein");a.push('<option value="1" '+(masterData.settings.informLeader==1?"selected":"")+">Ja");a.push("</select>")}a.push("</table>");a.push("<h2>Anzeige der Dienstgruppen</h2>");a.push("<table>");b.each(churchcore_sortData(masterData.servicegroup,"sortkey"),function(e,d){if(masterData.auth.viewgroup[d.id]!=null){a.push('<tr><td width="50%"><td>');a.push(form_renderCheckbox({cssid:"viewgroup"+d.id,label:d.bezeichnung,controlgroup:false,checked:masterData.settings["viewgroup"+d.id]==null||masterData.settings["viewgroup"+
d.id]==1}))}});a.push("</table>");a.push("<h2>Tabellendarstellung</h2>");a.push("<table>");a.push('<tr><td width="50%"><td>');a.push(form_renderCheckbox({cssid:"listViewTableHeight",label:"Tabellen an der Titelleiste fixieren",checked:masterData.settings.listViewTableHeight==null||masterData.settings.listViewTableHeight==1}));a.push("</table>");b("#cdb_content").html(a.join(""));b("#cdb_content select").change(function(){masterData.settings[b(this).attr("id")]=b(this).val();churchInterface.jsonWrite({func:"saveSetting",
sub:b(this).attr("id"),val:b(this).val()})});b("#cdb_content input:checkbox").click(function(){masterData.settings[b(this).attr("id")]=b(this).attr("checked")=="checked"?1:0;churchInterface.jsonWrite({func:"saveSetting",sub:b(this).attr("id"),val:masterData.settings[b(this).attr("id")]})})}})(jQuery);
